{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      file: null,\n      stockPrice: '',\n      apiChoice: 'gemini',\n      analysisDetail: 'standard',\n      includeMda: false,\n      isLoading: false,\n      error: null\n    };\n  },\n  methods: {\n    handleFileChange(e) {\n      this.file = e.target.files[0];\n      this.error = null;\n    },\n    async uploadFile() {\n      if (!this.file) {\n        this.error = 'Please select a PDF file to upload.';\n        return;\n      }\n      this.isLoading = true;\n      this.error = null;\n      try {\n        const formData = new FormData();\n        formData.append('file', this.file);\n        if (this.stockPrice) {\n          formData.append('stock_price', this.stockPrice);\n        }\n        formData.append('api_choice', this.apiChoice);\n        formData.append('analysis_detail', this.analysisDetail);\n        formData.append('include_mda', this.includeMda ? 'true' : 'false');\n        const response = await axios.post('http://localhost:5000/api/analyze', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        localStorage.setItem('analysisResults', JSON.stringify(response.data));\n        this.$router.push({\n          name: 'Results',\n          params: {\n            id: Date.now()\n          }\n        });\n      } catch (err) {\n        console.error('Error uploading file:', err);\n        this.error = err.response?.data?.error || 'Error processing file. Please try again.';\n      } finally {\n        this.isLoading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","file","stockPrice","apiChoice","analysisDetail","includeMda","isLoading","error","methods","handleFileChange","e","target","files","uploadFile","formData","FormData","append","response","post","headers","localStorage","setItem","JSON","stringify","$router","push","params","id","Date","now","err","console"],"sources":["/home/machiavelli127/Documents/SideProject/Fundamental_analysis/frontend/src/views/Home.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <div class=\"card upload-card\">\n      <h2 class=\"card-title\">Upload & Analyze 10-K Report</h2>\n      <p class=\"subtitle\">Provide a 10-K PDF and select your analysis options below.</p>\n\n      <div v-if=\"error\" class=\"alert alert-danger\">\n        <strong>Error:</strong> {{ error }}\n      </div>\n\n      <form @submit.prevent=\"uploadFile\" enctype=\"multipart/form-data\">\n        <fieldset class=\"form-section\">\n          <legend class=\"section-title\">1. Report File</legend>\n          <div class=\"form-group\">\n            <label for=\"fileUpload\" class=\"form-label\">10-K PDF Document:</label>\n            <input\n              type=\"file\"\n              id=\"fileUpload\"\n              ref=\"fileInput\"\n              @change=\"handleFileChange\"\n              accept=\".pdf\"\n              class=\"form-control file-input\"\n              required\n            />\n            <small class=\"input-hint\">Ensure the PDF is text-selectable for best results.</small>\n          </div>\n        </fieldset>\n\n        <fieldset class=\"form-section\">\n          <legend class=\"section-title\">2. Analysis Options</legend>\n          <div class=\"form-group\">\n            <label for=\"stockPrice\" class=\"form-label\">Current Stock Price (Optional):</label>\n            <input\n              type=\"number\"\n              id=\"stockPrice\"\n              v-model=\"stockPrice\"\n              class=\"form-control\"\n              step=\"0.01\"\n              min=\"0\"\n              placeholder=\"e.g., 150.25\"\n            />\n            <small class=\"input-hint\">Needed for P/E, P/B, P/S ratio calculations.</small>\n          </div>\n\n          <div class=\"form-group\">\n            <label class=\"form-label\">AI Model for Extraction:</label>\n            <div class=\"radio-group\">\n              <label class=\"radio-label\">\n                <input type=\"radio\" v-model=\"apiChoice\" value=\"gemini\" />\n                <span>Gemini (Recommended)</span>\n              </label>\n              <label class=\"radio-label\">\n                <input type=\"radio\" v-model=\"apiChoice\" value=\"openrouter\" />\n                <span>OpenRouter</span>\n              </label>\n            </div>\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"analysisDetail\" class=\"form-label\">Analysis Detail Level:</label>\n            <select id=\"analysisDetail\" v-model=\"analysisDetail\" class=\"form-control\">\n              <option value=\"standard\">Standard (Key ratios & recommendation)</option>\n              <option value=\"detailed\">Detailed (Includes MD&A, risks, SWOT, etc.)</option>\n            </select>\n          </div>\n\n          <div class=\"form-group checkbox-group\">\n            <label class=\"checkbox-label\">\n              <input type=\"checkbox\" v-model=\"includeMda\" />\n              <span>Include MD&A / Risk Factors Summary</span>\n            </label>\n            <small class=\"input-hint\">Overrides detail level for this specific section.</small>\n          </div>\n        </fieldset>\n\n        <button type=\"submit\" class=\"btn btn-primary btn-analyze\" :disabled=\"isLoading\">\n          <span v-if=\"isLoading\" class=\"loading-spinner\"></span>\n          <span v-else>Analyze Report</span>\n        </button>\n      </form>\n    </div>\n\n    <div class=\"card info-card\">\n      <h2 class=\"card-title\">How It Works</h2>\n      <div class=\"process-steps\">\n        <div class=\"step\">\n          <div class=\"step-icon\">ðŸ“¤</div>\n          <div class=\"step-info\">\n            <h3>1. Upload PDF</h3>\n            <p>Submit a company's 10-K report.</p>\n          </div>\n        </div>\n        <div class=\"step\">\n          <div class=\"step-icon\">ðŸ¤–</div>\n          <div class=\"step-info\">\n            <h3>2. AI Extraction</h3>\n            <p>AI extracts key financial data.</p>\n          </div>\n        </div>\n        <div class=\"step\">\n          <div class=\"step-icon\">ðŸ“Š</div>\n          <div class=\"step-info\">\n            <h3>3. Analysis</h3>\n            <p>Ratios calculated & scored.</p>\n          </div>\n        </div>\n        <div class=\"step\">\n          <div class=\"step-icon\">ðŸ’¡</div>\n          <div class=\"step-info\">\n            <h3>4. Insights</h3>\n            <p>Get recommendations & summaries.</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      file: null,\n      stockPrice: '',\n      apiChoice: 'gemini',\n      analysisDetail: 'standard',\n      includeMda: false,\n      isLoading: false,\n      error: null\n    }\n  },\n  methods: {\n    handleFileChange(e) {\n      this.file = e.target.files[0];\n      this.error = null;\n    },\n    async uploadFile() {\n      if (!this.file) {\n        this.error = 'Please select a PDF file to upload.';\n        return;\n      }\n\n      this.isLoading = true;\n      this.error = null;\n\n      try {\n        const formData = new FormData();\n        formData.append('file', this.file);\n\n        if (this.stockPrice) {\n          formData.append('stock_price', this.stockPrice);\n        }\n\n        formData.append('api_choice', this.apiChoice);\n        formData.append('analysis_detail', this.analysisDetail);\n        formData.append('include_mda', this.includeMda ? 'true' : 'false');\n\n        const response = await axios.post('http://localhost:5000/api/analyze', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n\n        localStorage.setItem('analysisResults', JSON.stringify(response.data));\n        this.$router.push({ name: 'Results', params: { id: Date.now() } });\n      } catch (err) {\n        console.error('Error uploading file:', err);\n        this.error = err.response?.data?.error || 'Error processing file. Please try again.';\n      } finally {\n        this.isLoading = false;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.home {\n  /* Styles for the main home container can be minimal as global styles handle the page structure */\n}\n\n.subtitle {\n  margin-bottom: 1.5rem;\n  font-size: 1rem;\n  color: #333; /* Slightly softer for subtitle */\n}\n\n.upload-card {\n  /* Specific styles for the upload card if needed, beyond global .card */\n}\n\n.info-card {\n  margin-top: 3rem; /* More separation for the info card */\n}\n\n.form-section {\n  border: 2px solid #000000;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  position: relative; /* For legend positioning */\n}\n\n.section-title {\n  font-size: 1.2rem;\n  font-weight: bold;\n  text-transform: uppercase;\n  background-color: #FFFFFF; /* Match card background */\n  color: #000000;\n  padding: 0.25rem 0.75rem;\n  position: absolute;\n  top: -0.8em; /* Position legend on top of the border */\n  left: 1rem;\n  border: 2px solid #000000;\n}\n\n.file-input {\n  /* Can add specific styling for file input if needed */\n  /* For Neo Brutalism, the default browser styling with .form-control is often fine */\n}\n\n.input-hint {\n  display: block;\n  font-size: 0.85rem;\n  color: #555;\n  margin-top: 0.3rem;\n}\n\n.radio-group, .checkbox-group {\n  display: flex;\n  flex-direction: column; /* Stack options vertically for clarity */\n  gap: 0.5rem;\n}\n\n.radio-label, .checkbox-label {\n  display: flex;\n  align-items: center;\n  font-size: 1rem;\n  cursor: pointer;\n}\n\n.radio-label span, .checkbox-label span {\n  margin-left: 0.5rem;\n}\n\n.btn-analyze {\n  width: 100%;\n  padding: 1rem;\n  font-size: 1.2rem;\n}\n\n.loading-spinner {\n  /* Using global .loading style from App.vue */\n  display: inline-block;\n  width: 24px; /* Adjust size as needed */\n  height: 24px;\n  border-width: 3px; /* Adjust border as needed */\n  /* Colors are inherited from global .loading */\n}\n\n.process-steps {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Responsive grid */\n  gap: 1.5rem;\n}\n\n.step {\n  display: flex;\n  flex-direction: column; /* Stack icon and text vertically */\n  align-items: center; /* Center items */\n  text-align: center;\n  padding: 1rem;\n  border: 2px solid #000000;\n  background-color: #FFFDE7; /* Light yellow background for steps */\n}\n\n.step-icon {\n  font-size: 2.5rem; /* Larger icons */\n  margin-bottom: 0.75rem;\n  line-height: 1;\n}\n\n.step-info h3 {\n  font-size: 1.1rem;\n  font-weight: bold;\n  margin-bottom: 0.3rem;\n  color: #000000;\n  text-transform: uppercase;\n}\n\n.step-info p {\n  font-size: 0.9rem;\n  color: #333;\n}\n</style>\n"],"mappings":"AAuHA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,IAAI;MACVC,UAAU,EAAE,EAAE;MACdC,SAAS,EAAE,QAAQ;MACnBC,cAAc,EAAE,UAAU;MAC1BC,UAAU,EAAE,KAAK;MACjBC,SAAS,EAAE,KAAK;MAChBC,KAAK,EAAE;IACT;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,gBAAgBA,CAACC,CAAC,EAAE;MAClB,IAAI,CAACT,IAAG,GAAIS,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAC7B,IAAI,CAACL,KAAI,GAAI,IAAI;IACnB,CAAC;IACD,MAAMM,UAAUA,CAAA,EAAG;MACjB,IAAI,CAAC,IAAI,CAACZ,IAAI,EAAE;QACd,IAAI,CAACM,KAAI,GAAI,qCAAqC;QAClD;MACF;MAEA,IAAI,CAACD,SAAQ,GAAI,IAAI;MACrB,IAAI,CAACC,KAAI,GAAI,IAAI;MAEjB,IAAI;QACF,MAAMO,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;QAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACf,IAAI,CAAC;QAElC,IAAI,IAAI,CAACC,UAAU,EAAE;UACnBY,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE,IAAI,CAACd,UAAU,CAAC;QACjD;QAEAY,QAAQ,CAACE,MAAM,CAAC,YAAY,EAAE,IAAI,CAACb,SAAS,CAAC;QAC7CW,QAAQ,CAACE,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAACZ,cAAc,CAAC;QACvDU,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE,IAAI,CAACX,UAAS,GAAI,MAAK,GAAI,OAAO,CAAC;QAElE,MAAMY,QAAO,GAAI,MAAMnB,KAAK,CAACoB,IAAI,CAAC,mCAAmC,EAAEJ,QAAQ,EAAE;UAC/EK,OAAO,EAAE;YACP,cAAc,EAAE;UAClB;QACF,CAAC,CAAC;QAEFC,YAAY,CAACC,OAAO,CAAC,iBAAiB,EAAEC,IAAI,CAACC,SAAS,CAACN,QAAQ,CAACjB,IAAI,CAAC,CAAC;QACtE,IAAI,CAACwB,OAAO,CAACC,IAAI,CAAC;UAAE1B,IAAI,EAAE,SAAS;UAAE2B,MAAM,EAAE;YAAEC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC;UAAE;QAAE,CAAC,CAAC;MACpE,EAAE,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACxB,KAAK,CAAC,uBAAuB,EAAEuB,GAAG,CAAC;QAC3C,IAAI,CAACvB,KAAI,GAAIuB,GAAG,CAACb,QAAQ,EAAEjB,IAAI,EAAEO,KAAI,IAAK,0CAA0C;MACtF,UAAU;QACR,IAAI,CAACD,SAAQ,GAAI,KAAK;MACxB;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}