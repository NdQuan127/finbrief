{"ast":null,"code":"export default {\n  name: 'Results',\n  data() {\n    return {\n      results: null\n    };\n  },\n  computed: {\n    averageScoreFormatted() {\n      return this.results && typeof this.results.average_score === 'number' ? this.results.average_score.toFixed(2) : 'N/A';\n    },\n    recommendationClass() {\n      if (!this.results || !this.results.recommendation || !this.results.recommendation.action) return 'recommendation-neutral';\n      const action = this.results.recommendation.action.toLowerCase();\n      if (action === 'buy') return 'recommendation-buy';\n      if (action === 'sell') return 'recommendation-sell';\n      return 'recommendation-hold';\n    }\n  },\n  methods: {\n    formatNumber(value) {\n      if (typeof value !== 'number') return 'N/A';\n      return new Intl.NumberFormat('en-US', {\n        maximumFractionDigits: 0\n      }).format(value);\n    },\n    formatDecimal(value) {\n      if (typeof value !== 'number') return 'N/A';\n      return Number(value).toFixed(2);\n    },\n    formatRatioName(key) {\n      const name = key.replace(/_/g, ' ');\n      return name.charAt(0).toUpperCase() + name.slice(1);\n    },\n    formatRatioValue(key, value) {\n      if (typeof value !== 'number') return 'N/A';\n      const percentageRatios = ['roe', 'roa', 'net_profit_margin', 'gross_profit_margin', 'operating_profit_margin'];\n      if (percentageRatios.includes(key)) {\n        return `${value.toFixed(2)}%`;\n      }\n      if (key === 'eps') {\n        return `$${value.toFixed(2)}`;\n      }\n      return value.toFixed(2);\n    },\n    getScoreClass(score) {\n      if (score === 3) return 'score-strong';\n      if (score === 2) return 'score-average';\n      if (score === 1) return 'score-weak';\n      return '';\n    }\n  },\n  mounted() {\n    try {\n      const savedResults = localStorage.getItem('analysisResults');\n      if (savedResults) {\n        this.results = JSON.parse(savedResults);\n        console.log(this.results); // For debugging\n      }\n    } catch (error) {\n      console.error('Error loading results:', error);\n      this.results = null; // Ensure results is null on error\n    }\n  }\n};","map":{"version":3,"names":["name","data","results","computed","averageScoreFormatted","average_score","toFixed","recommendationClass","recommendation","action","toLowerCase","methods","formatNumber","value","Intl","NumberFormat","maximumFractionDigits","format","formatDecimal","Number","formatRatioName","key","replace","charAt","toUpperCase","slice","formatRatioValue","percentageRatios","includes","getScoreClass","score","mounted","savedResults","localStorage","getItem","JSON","parse","console","log","error"],"sources":["/home/machiavelli127/Documents/SideProject/Fundamental_analysis/frontend/src/views/Results.vue"],"sourcesContent":["<template>\n  <div class=\"results-page\">\n    <div v-if=\"!results\" class=\"no-results card\">\n      <h2 class=\"card-title\">No Results Found</h2>\n      <p>It seems no analysis data is available. Please go back and upload a 10-K report first.</p>\n      <router-link to=\"/\" class=\"btn btn-primary\">Go Back to Upload</router-link>\n    </div>\n\n    <div v-else class=\"results-content\">\n      <div class=\"card company-overview-card\">\n        <h2 class=\"card-title company-name\">{{ results.company_name || 'Company Analysis' }}</h2>\n        <p class=\"fiscal-info\">Fiscal Year: <strong>{{ results.fiscal_year || 'N/A' }}</strong> | Period: <strong>{{ results.fiscal_period || 'N/A' }}</strong></p>\n\n        <div class=\"recommendation-highlight card\" :class=\"recommendationClass\">\n          <h3 class=\"recommendation-action\">\n            Recommendation: {{ results.recommendation?.action || 'N/A' }}\n          </h3>\n          <p class=\"recommendation-text\">\n            {{ results.recommendation?.explanation || 'No detailed explanation provided.' }}\n          </p>\n          <div v-if=\"results.average_score\" class=\"average-score-badge\">\n            Avg. Score: {{ averageScoreFormatted }}\n          </div>\n        </div>\n      </div>\n\n      <div class=\"card data-card\">\n        <h2 class=\"card-title\">Key Financial Data</h2>\n        <div class=\"data-grid\" v-if=\"results.extracted_data\">\n          <div class=\"data-point\">\n            <span class=\"data-label\">Net Income:</span>\n            <span class=\"data-value\">${{ formatNumber(results.extracted_data.net_income) }}</span>\n          </div>\n          <div class=\"data-point\">\n            <span class=\"data-label\">Revenue:</span>\n            <span class=\"data-value\">${{ formatNumber(results.extracted_data.revenue) }}</span>\n          </div>\n          <div class=\"data-point\">\n            <span class=\"data-label\">Total Assets:</span>\n            <span class=\"data-value\">${{ formatNumber(results.extracted_data.total_assets) }}</span>\n          </div>\n          <div class=\"data-point\">\n            <span class=\"data-label\">Total Liabilities:</span>\n            <span class=\"data-value\">${{ formatNumber(results.extracted_data.total_liabilities) }}</span>\n          </div>\n          <div class=\"data-point\">\n            <span class=\"data-label\">Equity:</span>\n            <span class=\"data-value\">${{ formatNumber(results.extracted_data.stockholders_equity) }}</span>\n          </div>\n          <div class=\"data-point\">\n            <span class=\"data-label\">Shares Out:</span>\n            <span class=\"data-value\">{{ formatNumber(results.extracted_data.outstanding_shares) }}</span>\n          </div>\n        </div>\n        <p v-else class=\"no-data-message\">Extracted financial data is not available.</p>\n      </div>\n\n      <div class=\"card ratios-card\">\n        <h2 class=\"card-title\">Financial Ratios & Scores</h2>\n        <div class=\"ratios-grid\" v-if=\"results.ratios && Object.keys(results.ratios).length\">\n          <div v-for=\"(value, key) in results.ratios\" :key=\"key\" class=\"ratio-detail-item\">\n            <h4 class=\"ratio-name\">{{ formatRatioName(key) }}</h4>\n            <p class=\"ratio-value-display\">{{ formatRatioValue(key, value) }}</p>\n            <div v-if=\"results.scores && results.scores[key]\"\n                 class=\"interpretation-badge\"\n                 :class=\"getScoreClass(results.scores[key].score)\">\n              {{ results.scores[key].interpretation }}\n            </div>\n          </div>\n        </div>\n        <p v-else class=\"no-data-message\">Financial ratios are not available.</p>\n      </div>\n\n      <div v-if=\"results.qualitative_summary && (results.qualitative_summary.mda_highlights || results.qualitative_summary.key_risks || results.qualitative_summary.earnings_quality)\" class=\"card qualitative-card\">\n        <h2 class=\"card-title\">Qualitative Analysis</h2>\n        <div v-if=\"results.qualitative_summary.mda_highlights\" class=\"qualitative-section\">\n          <h4 class=\"section-subtitle\">MD&A Summary</h4>\n          <p>{{ results.qualitative_summary.mda_highlights }}</p>\n        </div>\n        <div v-if=\"results.qualitative_summary.key_risks && results.qualitative_summary.key_risks.length\" class=\"qualitative-section\">\n          <h4 class=\"section-subtitle\">Key Risk Factors</h4>\n          <ul class=\"risk-list\">\n            <li v-for=\"(risk, idx) in results.qualitative_summary.key_risks\" :key=\"idx\">{{ risk }}</li>\n          </ul>\n        </div>\n         <div v-if=\"results.qualitative_summary.earnings_quality\" class=\"qualitative-section\">\n          <h4 class=\"section-subtitle\">Earnings Quality</h4>\n          <p>{{ results.qualitative_summary.earnings_quality }}</p>\n        </div>\n        <div v-if=\"results.qualitative_summary.balance_sheet\" class=\"qualitative-section\">\n          <h4 class=\"section-subtitle\">Balance Sheet Strength</h4>\n          <p>{{ results.qualitative_summary.balance_sheet }}</p>\n        </div>\n        <div v-if=\"results.qualitative_summary.profitability\" class=\"qualitative-section\">\n          <h4 class=\"section-subtitle\">Overall Profitability</h4>\n          <p>{{ results.qualitative_summary.profitability }}</p>\n        </div>\n        <div v-if=\"results.qualitative_summary.mda_error\" class=\"alert alert-warning\">\n          MD&A Summary Error: {{ results.qualitative_summary.mda_error }}\n        </div>\n      </div>\n\n      <div v-if=\"results.swot_analysis\" class=\"card swot-card\">\n        <h2 class=\"card-title\">SWOT Analysis</h2>\n        <div class=\"swot-grid\">\n          <div class=\"swot-category swot-strengths\">\n            <h4 class=\"swot-title\">Strengths</h4>\n            <ul><li v-for=\"(item, i) in results.swot_analysis.strengths\" :key=\"`s-${i}`\">{{ item }}</li></ul>\n          </div>\n          <div class=\"swot-category swot-weaknesses\">\n            <h4 class=\"swot-title\">Weaknesses</h4>\n            <ul><li v-for=\"(item, i) in results.swot_analysis.weaknesses\" :key=\"`w-${i}`\">{{ item }}</li></ul>\n          </div>\n          <div class=\"swot-category swot-opportunities\">\n            <h4 class=\"swot-title\">Opportunities</h4>\n            <ul><li v-for=\"(item, i) in results.swot_analysis.opportunities\" :key=\"`o-${i}`\">{{ item }}</li></ul>\n          </div>\n          <div class=\"swot-category swot-threats\">\n            <h4 class=\"swot-title\">Threats</h4>\n            <ul><li v-for=\"(item, i) in results.swot_analysis.threats\" :key=\"`t-${i}`\">{{ item }}</li></ul>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"actions-footer\">\n        <router-link to=\"/\" class=\"btn btn-secondary\">Analyze Another Report</router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Results',\n  data() {\n    return {\n      results: null\n    }\n  },\n  computed: {\n    averageScoreFormatted() {\n      return this.results && typeof this.results.average_score === 'number'\n        ? this.results.average_score.toFixed(2)\n        : 'N/A';\n    },\n    recommendationClass() {\n      if (!this.results || !this.results.recommendation || !this.results.recommendation.action) return 'recommendation-neutral';\n      const action = this.results.recommendation.action.toLowerCase();\n      if (action === 'buy') return 'recommendation-buy';\n      if (action === 'sell') return 'recommendation-sell';\n      return 'recommendation-hold';\n    }\n  },\n  methods: {\n    formatNumber(value) {\n      if (typeof value !== 'number') return 'N/A';\n      return new Intl.NumberFormat('en-US', { maximumFractionDigits: 0 }).format(value);\n    },\n    formatDecimal(value) {\n      if (typeof value !== 'number') return 'N/A';\n      return Number(value).toFixed(2);\n    },\n    formatRatioName(key) {\n      const name = key.replace(/_/g, ' ');\n      return name.charAt(0).toUpperCase() + name.slice(1);\n    },\n    formatRatioValue(key, value) {\n      if (typeof value !== 'number') return 'N/A';\n      const percentageRatios = ['roe', 'roa', 'net_profit_margin', 'gross_profit_margin', 'operating_profit_margin'];\n      if (percentageRatios.includes(key)) {\n        return `${value.toFixed(2)}%`;\n      }\n      if (key === 'eps') {\n         return `$${value.toFixed(2)}`;\n      }\n      return value.toFixed(2);\n    },\n    getScoreClass(score) {\n      if (score === 3) return 'score-strong';\n      if (score === 2) return 'score-average';\n      if (score === 1) return 'score-weak';\n      return '';\n    }\n  },\n  mounted() {\n    try {\n      const savedResults = localStorage.getItem('analysisResults');\n      if (savedResults) {\n        this.results = JSON.parse(savedResults);\n        console.log(this.results); // For debugging\n      }\n    } catch (error) {\n      console.error('Error loading results:', error);\n      this.results = null; // Ensure results is null on error\n    }\n  }\n}\n</script>\n\n<style scoped>\n.results-page {\n  /* Uses global styles for max-width and margin from App.vue main tag */\n}\n\n.no-results {\n  text-align: center;\n  padding: 2rem;\n  border: 3px dashed #000; /* Dashed border for emphasis */\n}\n.no-results p {\n  margin-bottom: 1.5rem;\n  font-size: 1.1rem;\n}\n\n.results-content {\n  display: flex;\n  flex-direction: column;\n  gap: 2rem; /* Consistent gap between cards */\n}\n\n.company-overview-card .company-name {\n  font-size: 2rem; /* Larger company name */\n  border-bottom: none; /* Remove default card title border if not desired here */\n  margin-bottom: 0.25rem;\n}\n\n.fiscal-info {\n  font-size: 0.9rem;\n  color: #333;\n  margin-bottom: 1.5rem;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.recommendation-highlight {\n  padding: 1.5rem;\n  border: 3px solid #000000;\n  color: #000000; /* Black text for all recommendation cards */\n  box-shadow: 4px 4px 0px #000000; /* Consistent shadow */\n  margin-top: 1rem;\n}\n\n.recommendation-buy {\n  background-color: #A5D6A7; /* Softer Green */\n}\n\n.recommendation-hold {\n  background-color: #FFF59D; /* Softer Yellow */\n}\n\n.recommendation-sell {\n  background-color: #EF9A9A; /* Softer Red */\n}\n.recommendation-neutral {\n  background-color: #E0E0E0; /* Grey for N/A */\n}\n\n.recommendation-action {\n  font-size: 1.75rem;\n  text-transform: uppercase;\n  margin-bottom: 0.75rem;\n  font-weight: bold;\n}\n\n.recommendation-text {\n  font-size: 1rem;\n  line-height: 1.5;\n  margin-bottom: 1rem;\n}\n\n.average-score-badge {\n  display: inline-block;\n  background: rgba(0, 0, 0, 0.8); /* Darker badge */\n  color: #FFFFFF; /* White text */\n  padding: 0.5rem 1rem;\n  font-weight: bold;\n  border: 2px solid #000000;\n  /* border-radius: 0; /* No rounded corners, consistent with theme */\n}\n\n.data-card .data-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  gap: 1rem;\n}\n\n.data-point {\n  background-color: #FFFDE7; /* Light yellow background */\n  border: 2px solid #000000;\n  padding: 0.75rem 1rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.data-label {\n  font-weight: bold;\n  margin-right: 0.5rem;\n}\n\n.data-value {\n  font-size: 1.1rem;\n  font-family: 'Courier New', Courier, monospace; /* Monospace for numbers */\n}\n\n.ratios-card .ratios-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 1.5rem;\n}\n\n.ratio-detail-item {\n  border: 2px solid #000;\n  padding: 1rem;\n  background-color: #FFFFFF;\n}\n\n.ratio-name {\n  font-size: 1.1rem;\n  font-weight: bold;\n  margin-bottom: 0.5rem;\n  text-transform: capitalize; /* Nicer formatting for ratio names */\n}\n\n.ratio-value-display {\n  font-size: 1.5rem; /* Larger ratio value */\n  font-weight: bold;\n  color: #0000FF; /* Blue accent for values */\n  margin-bottom: 0.75rem;\n  font-family: 'Courier New', Courier, monospace; /* Monospace for numbers */\n}\n\n.interpretation-badge {\n  display: inline-block;\n  padding: 0.4rem 0.8rem;\n  font-size: 0.85rem;\n  font-weight: bold;\n  border: 2px solid #000;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.score-strong {\n  background-color: #A5D6A7; /* Softer Green */\n  color: #1B5E20;\n}\n\n.score-average {\n  background-color: #FFF59D; /* Softer Yellow */\n  color: #F57F17;\n}\n\n.score-weak {\n  background-color: #EF9A9A; /* Softer Red */\n  color: #B71C1C;\n}\n\n.qualitative-card .qualitative-section {\n  margin-bottom: 1.5rem;\n  padding-bottom: 1rem;\n  border-bottom: 2px dashed #ccc; /* Dashed separator */\n}\n.qualitative-card .qualitative-section:last-child {\n  border-bottom: none;\n  padding-bottom: 0;\n}\n\n.section-subtitle {\n  font-size: 1.2rem;\n  font-weight: bold;\n  text-transform: uppercase;\n  margin-bottom: 0.5rem;\n  color: #333;\n}\n\n.risk-list {\n  list-style: square inside; /* Simple list style */\n  padding-left: 0.5rem;\n}\n.risk-list li {\n  margin-bottom: 0.3rem;\n}\n\n.swot-card .swot-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 1.5rem;\n}\n\n.swot-category {\n  border: 2px solid #000;\n  padding: 1rem;\n}\n.swot-category ul {\n  list-style: none; /* Remove default bullets */\n  padding-left: 0;\n}\n.swot-category li {\n  padding: 0.25rem;\n  border-bottom: 1px dotted #ccc;\n}\n.swot-category li:last-child {\n  border-bottom: none;\n}\n\n.swot-title {\n  font-size: 1.1rem;\n  text-transform: uppercase;\n  font-weight: bold;\n  margin-bottom: 0.75rem;\n  padding-bottom: 0.5rem;\n  border-bottom: 2px solid #000;\n}\n\n.swot-strengths { background-color: #E8F5E9; } /* Light green */\n.swot-weaknesses { background-color: #FFEBEE; } /* Light red */\n.swot-opportunities { background-color: #E3F2FD; } /* Light blue */\n.swot-threats { background-color: #FFFDE7; } /* Light yellow */\n\n.actions-footer {\n  margin-top: 2rem;\n  text-align: center;\n}\n\n.no-data-message {\n  font-style: italic;\n  color: #555;\n  padding: 1rem;\n  text-align: center;\n  border: 2px dashed #ccc;\n  background-color: #f9f9f9;\n}\n\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}