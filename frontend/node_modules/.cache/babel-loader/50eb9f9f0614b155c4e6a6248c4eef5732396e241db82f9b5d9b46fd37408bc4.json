{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      file: null,\n      stockPrice: '',\n      apiChoice: 'gemini',\n      isLoading: false,\n      error: null\n    };\n  },\n  methods: {\n    handleFileChange(e) {\n      this.file = e.target.files[0];\n      this.error = null;\n    },\n    async uploadFile() {\n      if (!this.file) {\n        this.error = 'Please select a PDF file to upload.';\n        return;\n      }\n      this.isLoading = true;\n      this.error = null;\n      try {\n        const formData = new FormData();\n        formData.append('file', this.file);\n        if (this.stockPrice) {\n          formData.append('stock_price', this.stockPrice);\n        }\n        formData.append('api_choice', this.apiChoice);\n        const response = await axios.post('http://localhost:5000/api/analyze', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n\n        // Store results in localStorage for result page\n        localStorage.setItem('analysisResults', JSON.stringify(response.data));\n\n        // Navigate to results page\n        this.$router.push({\n          name: 'Results',\n          params: {\n            id: Date.now()\n          }\n        });\n      } catch (err) {\n        console.error('Error uploading file:', err);\n        this.error = err.response?.data?.error || 'Error processing file. Please try again.';\n      } finally {\n        this.isLoading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","file","stockPrice","apiChoice","isLoading","error","methods","handleFileChange","e","target","files","uploadFile","formData","FormData","append","response","post","headers","localStorage","setItem","JSON","stringify","$router","push","params","id","Date","now","err","console"],"sources":["/home/machiavelli127/Documents/SideProject/Fundamental_analysis/frontend/src/views/Home.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <div class=\"card\">\n      <h2 class=\"card-title\">Upload 10-K Annual Report</h2>\n      <p>Upload a company's 10-K annual report in PDF format to analyze key financial ratios and get investment recommendations.</p>\n\n      <div v-if=\"error\" class=\"alert alert-danger\">\n        {{ error }}\n      </div>\n\n      <form @submit.prevent=\"uploadFile\" enctype=\"multipart/form-data\">\n        <div class=\"form-group\">\n          <label for=\"fileUpload\" class=\"form-label\">10-K PDF File:</label>\n          <input\n            type=\"file\"\n            id=\"fileUpload\"\n            ref=\"fileInput\"\n            @change=\"handleFileChange\"\n            accept=\".pdf\"\n            class=\"form-control\"\n            required\n          />\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"stockPrice\" class=\"form-label\">Current Stock Price (Optional):</label>\n          <input\n            type=\"number\"\n            id=\"stockPrice\"\n            v-model=\"stockPrice\"\n            class=\"form-control\"\n            step=\"0.01\"\n            min=\"0\"\n            placeholder=\"Enter current stock price\"\n          />\n          <small>Required for P/E ratio calculation.</small>\n        </div>\n\n        <div class=\"form-group\">\n          <label class=\"form-label\">AI Model for Data Extraction:</label>\n          <div>\n            <label>\n              <input type=\"radio\" v-model=\"apiChoice\" value=\"gemini\" checked />\n              Gemini API\n            </label>\n            <label style=\"margin-left: 1rem;\">\n              <input type=\"radio\" v-model=\"apiChoice\" value=\"openrouter\" />\n              OpenRouter API\n            </label>\n          </div>\n        </div>\n\n        <button type=\"submit\" class=\"btn\" :disabled=\"isLoading\">\n          <span v-if=\"isLoading\" class=\"loading\"></span>\n          <span v-else>Analyze Report</span>\n        </button>\n      </form>\n    </div>\n\n    <div class=\"card\">\n      <h2 class=\"card-title\">How It Works</h2>\n      <div class=\"process-steps\">\n        <div class=\"step\">\n          <div class=\"step-number\">1</div>\n          <div class=\"step-info\">\n            <h3>Upload 10-K PDF</h3>\n            <p>Upload a company's annual 10-K report in PDF format.</p>\n          </div>\n        </div>\n\n        <div class=\"step\">\n          <div class=\"step-number\">2</div>\n          <div class=\"step-info\">\n            <h3>AI Data Extraction</h3>\n            <p>Our AI extracts key financial figures like Net Income, Equity, and Outstanding Shares.</p>\n          </div>\n        </div>\n\n        <div class=\"step\">\n          <div class=\"step-number\">3</div>\n          <div class=\"step-info\">\n            <h3>Financial Analysis</h3>\n            <p>The system calculates P/E Ratio, ROE, and D/E Ratio, and scores each metric.</p>\n          </div>\n        </div>\n\n        <div class=\"step\">\n          <div class=\"step-number\">4</div>\n          <div class=\"step-info\">\n            <h3>Get Recommendations</h3>\n            <p>Receive a Buy/Hold/Sell recommendation with detailed explanation.</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      file: null,\n      stockPrice: '',\n      apiChoice: 'gemini',\n      isLoading: false,\n      error: null\n    }\n  },\n  methods: {\n    handleFileChange(e) {\n      this.file = e.target.files[0];\n      this.error = null;\n    },\n    async uploadFile() {\n      if (!this.file) {\n        this.error = 'Please select a PDF file to upload.';\n        return;\n      }\n\n      this.isLoading = true;\n      this.error = null;\n\n      try {\n        const formData = new FormData();\n        formData.append('file', this.file);\n\n        if (this.stockPrice) {\n          formData.append('stock_price', this.stockPrice);\n        }\n\n        formData.append('api_choice', this.apiChoice);\n\n        const response = await axios.post('http://localhost:5000/api/analyze', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n\n        // Store results in localStorage for result page\n        localStorage.setItem('analysisResults', JSON.stringify(response.data));\n\n        // Navigate to results page\n        this.$router.push({ name: 'Results', params: { id: Date.now() } });\n      } catch (err) {\n        console.error('Error uploading file:', err);\n        this.error = err.response?.data?.error || 'Error processing file. Please try again.';\n      } finally {\n        this.isLoading = false;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.home {\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.process-steps {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n\n.step {\n  display: flex;\n  align-items: flex-start;\n}\n\n.step-number {\n  background-color: #3498db;\n  color: white;\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: bold;\n  margin-right: 1rem;\n  flex-shrink: 0;\n}\n\n.step-info h3 {\n  margin: 0 0 0.5rem 0;\n  color: #2c3e50;\n}\n</style>\n"],"mappings":"AAmGA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,IAAI;MACVC,UAAU,EAAE,EAAE;MACdC,SAAS,EAAE,QAAQ;MACnBC,SAAS,EAAE,KAAK;MAChBC,KAAK,EAAE;IACT;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,gBAAgBA,CAACC,CAAC,EAAE;MAClB,IAAI,CAACP,IAAG,GAAIO,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAC7B,IAAI,CAACL,KAAI,GAAI,IAAI;IACnB,CAAC;IACD,MAAMM,UAAUA,CAAA,EAAG;MACjB,IAAI,CAAC,IAAI,CAACV,IAAI,EAAE;QACd,IAAI,CAACI,KAAI,GAAI,qCAAqC;QAClD;MACF;MAEA,IAAI,CAACD,SAAQ,GAAI,IAAI;MACrB,IAAI,CAACC,KAAI,GAAI,IAAI;MAEjB,IAAI;QACF,MAAMO,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;QAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACb,IAAI,CAAC;QAElC,IAAI,IAAI,CAACC,UAAU,EAAE;UACnBU,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE,IAAI,CAACZ,UAAU,CAAC;QACjD;QAEAU,QAAQ,CAACE,MAAM,CAAC,YAAY,EAAE,IAAI,CAACX,SAAS,CAAC;QAE7C,MAAMY,QAAO,GAAI,MAAMjB,KAAK,CAACkB,IAAI,CAAC,mCAAmC,EAAEJ,QAAQ,EAAE;UAC/EK,OAAO,EAAE;YACP,cAAc,EAAE;UAClB;QACF,CAAC,CAAC;;QAEF;QACAC,YAAY,CAACC,OAAO,CAAC,iBAAiB,EAAEC,IAAI,CAACC,SAAS,CAACN,QAAQ,CAACf,IAAI,CAAC,CAAC;;QAEtE;QACA,IAAI,CAACsB,OAAO,CAACC,IAAI,CAAC;UAAExB,IAAI,EAAE,SAAS;UAAEyB,MAAM,EAAE;YAAEC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC;UAAE;QAAE,CAAC,CAAC;MACpE,EAAE,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACxB,KAAK,CAAC,uBAAuB,EAAEuB,GAAG,CAAC;QAC3C,IAAI,CAACvB,KAAI,GAAIuB,GAAG,CAACb,QAAQ,EAAEf,IAAI,EAAEK,KAAI,IAAK,0CAA0C;MACtF,UAAU;QACR,IAAI,CAACD,SAAQ,GAAI,KAAK;MACxB;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}